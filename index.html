<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delivery Log System</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Theme color for browser toolbar -->
    <meta name="theme-color" content="#d60000">
    <body style="background-image: url('nicofinal.png'); background-size: cover; background-position: center; background-repeat: no-repeat;">

</head>
<body>

<div class="container">
    <h2>Delivery Log System</h2>
    <button class="btn-grab" onclick="location.href='grab.html'">Grab</button>
    <button class="btn-panda" onclick="location.href='panda.html'">FoodPanda</button>
    <button class="back-btn" onclick="location.href='admin-login.html'">Admin</button>
</div>

<!-- PWA Install Button -->
<script>
let deferredPrompt;
const installBtn = document.createElement("button");
installBtn.textContent = "Install App";
installBtn.style.cssText = `
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 15px 25px;
    font-size: 16px;
    background: #d60000;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    z-index: 1000;
    display: none;
`;
document.body.appendChild(installBtn);

// Show button when PWA can be installed
window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    installBtn.style.display = "block";
});

installBtn.addEventListener('click', async () => {
    installBtn.style.display = "none";
    if (deferredPrompt) {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then((choiceResult) => {
            console.log("User response to install:", choiceResult.outcome);
            deferredPrompt = null;
        });
    }
});

// Register service worker
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js')
        .then(() => console.log('Service Worker registered'))
        .catch(err => console.log('Service Worker registration failed:', err));
}
</script>

</body>
</html>


